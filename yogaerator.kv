#: import Factory kivy.factory.Factory
<Label>
    font_size: sp(25)

<MyOption@SpinnerOption>:
    font_size: sp(18)


######################################
### Setup Screen
#####################################

<SetupScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10, 10
        spacing: 10

        # workout time
        BoxLayout:
            orientation: 'horizontal'

            Label:
                text: 'Workout time:'

            TextInput:
                id: workout_time
                input_filter: 'int'
                multiline: False

        # Yoga style
        BoxLayout:
            orientation: 'horizontal'

            Label:
                text: 'Yoga style:'

            FloatLayout:
                size_hint_y: None
                height: '40dp'
                width: 160  # Set the desired width for both TextInput and Spinner
                size_hint_x: 1



                Spinner:
                    id: yoga_style
                    text: 'Hatha'
                    values: ('Hatha', 'Gentle Hatha', 'Relaxation', 'Flow', 'Gentle Flow', 'Hip Opening Flow', 'Core Flow', 'Kundalini', 'Yin', 'Power', 'Yoga + Mobility', 'Yoga + Meditation', 'Therapeutic', 'Custom')
                    opacity: 0 if yoga_style.text == 'Custom' else 1
                    on_text: custom_yoga_style.opacity = 1 if self.text == 'Custom' else 0
                    size_hint_y: None
                    height: '160dp'
                    size_hint_x: 1
                    option_cls: "MyOption"
                    font_size: sp(20)
                    pos_hint: {'top': 4.3, 'x': 0}  # Position the Spinner at the top of the FloatLayout


                TextInput:
                    id: custom_yoga_style
                    hint_text: 'Enter custom style'
                    multiline: False
                    opacity: 1 if yoga_style.text == 'Custom' else 0
                    disabled: True if yoga_style.text != 'Custom' else False
                    size_hint_y: None
                    height: '160dp'
                    size_hint_x: 1
                    pos_hint: {'top': 4.3, 'x': 0}  # Position the TextInput at the top of the FloatLayout

        # create button
        Button:
            text: 'Create workout'
            on_release:
                root.manager.get_screen('workout').get_yoga_workout(workout_time.text, custom_yoga_style.text if yoga_style.text == 'Custom' else yoga_style.text)
                root.manager.current = 'workout'

####################################################################
### Workout Overview Screen
####################################################################

<WorkoutOverview>:
    BoxLayout:
        orientation: 'vertical'

        # Top Bar
        BoxLayout:
            size_hint_y: None
            height: '40dp'
            orientation: 'horizontal'

            # Reload Button
            Button:
                text: 'Reload'
                on_release: root.get_yoga_workout(root.workout_time, root.yoga_style if root.yoga_style != 'Custom' else custom_yoga_style.text)

            # Back Button
            Button:
                text: 'Back'
                on_release: root.manager.current = 'setup'

        # Workout display screen
        ScrollView:
            BoxLayout:
                id: container
                orientation: 'vertical'
                #size_hint: 1, 1
                size_hint_y: None
                height: self.minimum_height

                # Title
                Label:
                    text: root.yoga_title
                    text_size: self.width - 20, None
                    size_hint_y: None
                    height: self.texture_size[1] + 20
                    font_size: sp(30)
                    markup: True
                    halign: 'center'
                    #pos_hint: {'center_y': 0.5}

                # Description
                Label:
                    text: root.yoga_description
                    text_size: self.width - 20, None
                    size_hint_y: None
                    height: self.texture_size[1] + 20
                    font_size: sp(20)
                    markup: True

                # Poses overview
                Label:
                    text: root.yoga_poses
                    text_size: self.width - 20, None
                    size_hint_y: None
                    height: self.texture_size[1] + 20
                    font_size: sp(20)
                    markup: True

        # Bottom Bar
        BoxLayout:
            size_hint_y: None
            height: '40dp'
            orientation: 'horizontal'

            # Start Workout button
            Button:
                text: 'Start Workout'
                on_release:
