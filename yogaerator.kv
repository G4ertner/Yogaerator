#: import Factory kivy.factory.Factory

<SetupScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10, 10
        spacing: 10

        BoxLayout:
            orientation: 'horizontal'

            Label:
                text: 'Workout time:'

            TextInput:
                id: workout_time
                input_filter: 'int'
                multiline: False

        BoxLayout:
            orientation: 'horizontal'

            Label:
                text: 'Yoga style:'

            FloatLayout:
                size_hint_y: None
                height: '40dp'
                width: 320  # Set the desired width for both TextInput and Spinner
                size_hint_x: None

                Spinner:
                    id: yoga_style
                    text: 'Hatha'
                    values: ('Hatha', 'Relax', 'Hip opening', 'Core', 'Kundalini', 'Yin', 'Custom')
                    opacity: 0 if yoga_style.text == 'Custom' else 1
                    on_text: custom_yoga_style.opacity = 1 if self.text == 'Custom' else 0
                    size_hint_y: None
                    height: '160dp'
                    size_hint_x: 1
                    pos_hint: {'top': 4.3, 'x': -0.1}  # Position the Spinner at the top of the FloatLayout


                TextInput:
                    id: custom_yoga_style
                    hint_text: 'Enter custom style'
                    multiline: False
                    opacity: 1 if yoga_style.text == 'Custom' else 0
                    disabled: True if yoga_style.text != 'Custom' else False
                    size_hint_y: None
                    height: '160dp'
                    size_hint_x: 1
                    pos_hint: {'top': 4.3, 'x': -0.1}  # Position the TextInput at the top of the FloatLayout


        Button:
            text: 'Create workout'
            on_release:
                root.manager.get_screen('workout').get_yoga_workout(workout_time.text, custom_yoga_style.text if yoga_style.text == 'Custom' else yoga_style.text)
                root.manager.current = 'workout'

<WorkoutScreen>:
    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            size_hint_y: None
            height: '40dp'
            orientation: 'horizontal'

            Button:
                text: 'Reload'
                on_release: root.get_yoga_workout(root.workout_time, root.yoga_style if root.yoga_style != 'Custom' else custom_yoga_style.text)



            Button:
                text: 'Back'
                on_release: root.manager.current = 'setup'

        ScrollView:
            Label:
                text: root.yoga_poses
                text_size: self.width - 20, None
                size_hint_y: None
                height: self.texture_size[1] + 20
                markup: True
